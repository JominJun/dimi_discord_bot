import discord, random, os
from discord.ext import commands

app = commands.Bot(command_prefix="$", status=discord.Status.online, activity=discord.Game("'$ëª…ë ¹ì–´' ëŒ€ê¸°"))
token = os.getenv('DISCORD_BOT_DIMI1538_TOKEN')
caller = ""
onActivity = ""
gamble_ans = 0

@app.event
async def on_ready():
    print(f"{app.user.name}({app.user.id})ì˜ ì‘ë™ì„ ì‹œì‘í•©ë‹ˆë‹¤")

@app.event
async def on_message(message):
    await app.process_commands(message)
    global caller, onActivity, gamble_ans
    if onActivity == "gamble":
        if message.content.startswith('*') and caller == message.author:
            inp = int(str(message.content).split('*')[1])
            if gamble_ans == inp:
                await message.channel.send("ğŸ’¥âšœğŸŒŸğŸ¥‡ğŸ†ì •ë‹µì´ì•¼!ğŸ†ğŸ¥‡ğŸŒŸâšœğŸ’¥")
                caller = ""
                onActivity = ""
                gamble_ans = ""
            elif gamble_ans > inp:
                await message.channel.send("ì¡°ê¸ˆ ë” í° ìˆ«ìì•¼..")
            else:
                await message.channel.send("ì¡°ê¸ˆ ë” ì‘ì€ ìˆ«ìì•¼..")

@app.command()
async def ëª…ë ¹ì–´(ctx):
    embed = discord.Embed(color=0xed1280)
    embed.set_author(name="1538 ë¯¼ì†Œí˜„ ëª…ë ¹ì–´", icon_url="https://imgur.com/krJM8Wj.png")
    embed.add_field(name="$ëª…ë ¹ì–´", value="ëª…ë ¹ì–´ ëª©ë¡ì„ ë³´ì—¬ì¤„ê²Œ...ã…,,")
    embed.add_field(name="$ì†Œí˜„ì•„", value="ë‚´... ì´ë¦„.. ë¶ˆëŸ¬ì¤˜...")
    embed.add_field(name="$ë„ë°•", value="ë„.ë°•. ì´.ê±°. ì§„.ì§œ.ì¬.ë°Œ.ìŠµ.ë‹ˆ.ë‹¤.")
    embed.set_footer(text="ê°œë°œì: â­ë¯¼ì†Œí˜„")
    await ctx.send(embed=embed)

@app.command()
async def ì†Œí˜„ì•„(ctx):
    await ctx.send("í˜¹ì‹œ,, ë‚˜..ë¶€ë¥¸ê±°ì•¼...? ...")

@app.command()
async def ë„ë°•(ctx):
    global caller, onActivity, gamble_ans
    if onActivity != "gamble":
        await ctx.send("í˜¹ì‹œ.. ë„ë°•..ã…ã…..ì•„ ë¯¸ì•ˆ...ë„ë°• ì•ˆí• ë˜?..\në‚´ê°€... ìˆ«ì(1~100)ë¥¼ ìƒê°í• í…Œë‹ˆê¹Œ... ë§í˜€ë´...ã…ã…\n*[ìˆ«ì]ë¡œ ë‚´ê²Œ ì…ë ¥í•´ì£¼ë©´ ë¼...ã…ã…\nê·¸ë§Œë‘ê³  ì‹¶ìœ¼ë©´...'$ë„ë°•ì¤‘ì§€'ë¼ê³  í•´")
        caller = ctx.message.author
        onActivity = "gamble"
        gamble_ans = random.randint(1, 100)
    else:
        await ctx.send("ì´ë¯¸ ë‹¤ë¥¸ê³³ì—ì„œë“  ë„ë°• ì¤‘ì¸ê²ƒ ê°™ì•„.. ëë‚´ê³  ì‹¶ìœ¼ë©´ ë„ë°•ì„ ì‹œì‘í•œ ì‚¬ëŒì´ ì •ë‹µì„ ë§íˆê±°ë‚˜ '$ë„ë°•ì¤‘ì§€'ë¥¼ ì‹¤í–‰í•´ì•¼ ë¼..")

@app.command()
async def ë„ë°•ì¤‘ì§€(ctx):
    global caller, onActivity, gamble_ans
    await ctx.send(f"ë„ë°•ì„ ì¤‘ë‹¨í–ˆì–´... ì •ë‹µì€ {gamble_ans}ì˜€ëŠ”ë° ì•„ì‰½ë„¤...ã…ã…...")
    caller = ""
    onActivity = ""
    gamble_ans = ""

app.run(token)
